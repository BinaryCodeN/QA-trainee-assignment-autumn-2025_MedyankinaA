# Тест-кейсы для API микросервиса объявлений

## Общая информация
- **Host:** https://qa-internship.avito.com
- **Метод тестирования:** Автоматизированное тестирование API
- **Инструменты:** Python, pytest, requests

## Эндпоинт: POST /api/1/item (Создание объявления)

### Позитивные сценарии
| ID | Название | Шаги | Ожидаемый результат | Фактический результат | Статус |
|----|----------|------|---------------------|----------------------|--------|
| TC-001 | Создание объявления с валидными данными | 1. Отправить POST `/api/1/item` с валидными данными<br>2. Проверить ответ | Status: 200 OK<br>Body: структура с id, name, price, statistics | Status: 200 OK<br>Body: {"status": "Сохранили объявление - UUID"} | FAIL ❌ |

### Негативные сценарии
| ID | Название | Шаги | Ожидаемый результат | Фактический результат | Статус |
|----|----------|------|---------------------|----------------------|--------|
| TC-002 | Создание с отрицательной ценой | 1. Отправить POST с "price": -100<br>2. Проверить ответ | Status: 400 Bad Request<br>Body: ошибка валидации | Status: 200 OK<br>Объявление создано | FAIL ❌ |
| TC-003 | Создание с sellerID вне диапазона | 1. Отправить POST с "sellerID": 100000<br>2. Проверить ответ | Status: 400 Bad Request<br>Body: ошибка диапазона | Status: 200 OK<br>Объявление создано | FAIL ❌ |
| TC-004 | Создание без обязательного поля sellerID | 1. Отправить POST без sellerID<br>2. Проверить ответ | Status: 400<br>Body: понятное сообщение об ошибке | Status: 400<br>Body: неинформативная ошибка | FAIL ❌ |

## Эндпоинт: GET `/api/1/item/{id}` (Получение объявления по ID)

| ID | Название | Шаги | Ожидаемый результат | Фактический результат | Статус |
|----|----------|------|---------------------|----------------------|--------|
| TC-005 | Получение существующего объявления | 1. Создать объявление<br>2. GET /api/1/item/{id}<br>3. Проверить ответ | Status: 200 OK<br>Body: данные объявления | Status: 404 Not Found<br>Объявление не найдено | FAIL ❌ |

## Эндпоинт: DELETE `/api/2/item/{id}` (Удаление объявления)

| ID | Название | Шаги | Ожидаемый результат | Фактический результат | Статус |
|----|----------|------|---------------------|----------------------|--------|
| TC-006 | Удаление объявления | 1. Создать объявление<br>2. DELETE /api/2/item/{id}<br>3. Проверить ответ | Status: 404 Not Found<br>Body: стандартная структура | Status: 400 Bad Request<br>Body: зависит от реализации | FAIL ❌ |

## Эндпоинты статистики

| ID | Название | Эндпоинт | Шаги | Ожидаемый результат | Фактический результат | Статус |
|----|----------|----------|------|---------------------|----------------------|--------|
| TC-007 | Получение статистики v1 | /api/1/statistic/{id} | 1. Создать объявление<br>2. GET /api/1/statistic/{id} | Status: 200 OK<br>Body: массив со статистикой | Status: 200 OK<br>Body: пустой массив [] | PASS ✅ |
| TC-008 | Получение статистики v2 | /api/2/statistic/{id} | 1. Создать объявление<br>2. GET /api/2/statistic/{id} | Status: 200 OK<br>Body: массив со статистикой | Status: 200 OK<br>Body: пустой массив [] | PASS ✅ |

## Эндпоинт: GET `/api/1/{sellerID}/item` (Объявления продавца)

| ID | Название | Шаги | Ожидаемый результат | Фактический результат | Статус |
|----|----------|------|---------------------|----------------------|--------|
| TC-009 | Получение объявлений продавца | 1. GET /api/1/123456/item<br>2. Проверить ответ | Status: 200 OK<br>Body: массив объявлений | Status: 200 OK/400/404<br>Запрос выполняется | PASS ✅ |

## Итоги тестирования

- **Всего тест-кейсов:** 9
- **Пройдено:** 3 ✅
- **Провалено:** 6 ❌
- **Процент успеха:** 33%

### Основные проблемы:
1. Нарушение REST standards в структуре ответов
2. Отсутствие валидации входных данных
3. Некорректные статус коды
4. Несоответствие документации

Подробная информация о найденных багах в файле [BUGS.md](./BUGS.md)